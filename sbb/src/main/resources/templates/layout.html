<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      th:fragment="layout(body)">

<head>
  <meta charset="utf-8">
  <title>ì• í”Œê³¼í•™ | ê³¼í•™ ì „ë¬¸ í•™ì›</title>
  <meta name="_csrf" th:content="${_csrf.token}"/>
  <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
  <meta name="author" th:content="${#authentication != null ? #authentication.name : ''}"/>
  <link rel="icon" th:href="@{/image/logo2.png}" type="image/png"/>
  <link rel="apple-touch-icon" th:href="@{/image/logo2.png}">

  <!-- ê³µí†µ ìŠ¤íƒ€ì¼ -->
  <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>

  <!-- Navbar (ëª¨ë“  í˜ì´ì§€ ê³µí†µ) -->
  <div th:replace="navbar :: nav"></div>

  <!-- ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ -->
  <main class="container" th:classappend="${pageClass} != null ? ' ' + pageClass : ''">
      <th:block th:replace="${body}"></th:block>
  </main>

  <!-- ë–  ìˆëŠ” ìƒë‹´ ë²„íŠ¼ & ëª¨ë‹¬ -->
  <button id="floatingConsultBtn" class="floating-consult">
    <span>ìƒë‹´ ì˜ˆì•½ <br />(ë¡œê·¸ì¸ í•„ìš”)</span>
    <small>02-532-1706</small>
  </button>
  <div id="consultModal" class="consult-modal">
    <div class="consult-card">
      <div class="consult-header">
        <div>
          <div class="pill">ìƒë‹´ ìš”ì²­</div>
          <h3 style="margin:6px 0 4px;">ë°”ë¡œ ì „í™” ë˜ëŠ” ë°©ë¬¸ ì˜ˆì•½</h3>
          <p class="muted" style="margin:0;">ê´€ë¦¬ìì—ê²Œ ë°”ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.</p>
        </div>
        <button type="button" id="consultClose" class="icon-button">âœ•</button>
      </div>
      <form id="consultForm" style="display:flex; flex-direction:column; gap:10px;">
        <label>ì¢…ë¥˜
          <select name="type" required>
            <option value="CALL">ì „í™” ìš”ì²­</option>
            <option value="VISIT">ë°©ë¬¸ ì˜ˆì•½</option>
          </select>
        </label>
        <label>ë‚´ ì—°ë½ì²˜
          <input type="tel" name="phone" placeholder="ì˜ˆ: 010-1234-5678" required>
        </label>
        <label>ë©”ëª¨ (ì„ íƒ)
          <textarea name="message" rows="3" placeholder="í¬ë§ ì‹œê°„ì´ë‚˜ ë°©ë¬¸ ì¼ì •ì„ ì ì–´ì£¼ì„¸ìš”"></textarea>
        </label>
        <div class="consult-actions">
          <div class="muted">ì• í”Œê³¼í•™ â˜ 02-532-1706</div>
          <button type="submit" class="btn">ìš”ì²­ ë³´ë‚´ê¸°</button>
        </div>
      </form>
    </div>
  </div>

  <!-- ğŸ”» í‘¸í„° ì¶”ê°€ -->
  <footer class="site-footer">
    <div class="footer-inner">

      <div class="footer-left">
        <div class="footer-title">ì• í”Œê³¼í•™</div>
        <div class="footer-line">
          ë¬¸ì˜: <a href="tel:02-532-1706">02-532-1706</a><br />
          ì›¹ ê´€ë ¨ ë¬¸ì˜: <a href="tel:010-6758-4885">010-6758-4885</a>
        </div>
        <div class="footer-line">
          ì„œìš¸ ì„œì´ˆêµ¬ ì‹ ë°˜í¬ë¡œ 189 ë°˜í¬ì‡¼í•‘íƒ€ìš´ 4ë™ 402í˜¸
        </div>
      </div>

      <div class="footer-right">
        <a class="footer-link"
           href="https://github.com/grapebongbongs/TeamOpenSource_Springboot"
           target="_blank" rel="noopener noreferrer">
          í•™ìŠµ í¬í„¸ ë°”ë¡œê°€ê¸°
        </a>
      </div>

    </div>
  </footer>

  <!-- ê³µí†µ ìŠ¤í¬ë¦½íŠ¸ -->
  <script th:src="@{/app.js}"></script>
  <style>
    .floating-consult {
      position: fixed; right: 20px; bottom: 20px;
      background: linear-gradient(135deg, #1e3a8a, #3b82f6);
      color:#f8fafc; border:none; border-radius:16px;
      padding:12px 14px; box-shadow:0 12px 30px rgba(0,0,0,0.25);
      display:flex; flex-direction:column; gap:2px; align-items:flex-start;
      font-weight:800; z-index:999;
    }
    .floating-consult small { font-weight:600; opacity:0.9; color:#dbeafe; }
    .consult-modal {
      position:fixed; inset:0; display:none; align-items:center; justify-content:center;
      background:rgba(0,0,0,0.45); z-index:1000; padding:12px;
    }
    .consult-card {
      background: linear-gradient(135deg, #ffffff, #f3f7ff);
      border-radius:16px; padding:16px; max-width:420px; width:100%;
      box-shadow:0 16px 40px rgba(0,0,0,0.18); border:1px solid #d9e4f2;
      display:flex; flex-direction:column; gap:10px;
    }
    .consult-header { display:flex; justify-content:space-between; align-items:flex-start; gap:10px; }
    .consult-card label { display:flex; flex-direction:column; gap:6px; font-weight:700; color:#0f172a; }
    .consult-card input, .consult-card select, .consult-card textarea {
      width:100%; padding:8px 10px; border:1px solid #cbd5e1; border-radius:10px;
    }
    .consult-actions { display:flex; align-items:center; justify-content:space-between; gap:10px; }
  </style>

</body>
</html>
